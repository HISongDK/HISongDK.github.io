---
title: state 不知道哪改了
date: 2021-07-04 12:06:31
tags:
---

踩了个坑

没见 setState 之类的,但是 state 就是被改了

找了好长时间都没发现是怎么回事

最后打了一堆断点发现

是该 state 作为实参传入了父组件传来的函数中

而父组件的函数操作了这个参数 state 对象

应该是浅拷贝的问题

坑死我了

SO 以后注意:

1. 以后代码出现了莫名其妙的效果,多打断点排查
2. state 中对象内容不知道哪发生变动了,首先看看是不是浅拷贝、当作参数之类的问题
