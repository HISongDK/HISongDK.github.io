---
title: OOP | 引言
tags: oop
categories:
  - 随敲
  - JavaScript面向对象编程指南
date: 2021-09-20 14:37:03
---

众所周知，时下所流行的这些 Web 应用，例如 Yahoo!Maps、Google Maps、Yahoo！Mail、My Yahoo！、Gmail、Digg 以及 YouTube 等都有一些明显的共同特征，即：它们都是 Web2.0 时代的应用程序，都有非常丰富的人性化交互界面，而这往往意味着大量的 JavaScript 应用。事实上，JavaScript 最初也只不过是一种内嵌于 HTM 语句中的单行式脚本语言。但如今已经今非昔比了，对于它今天所拥有的面向对象特性来说，无论是在可重用性方面，还是在可扩展性方面都已经足以支持我们去实现任何网站项目中的行为逻辑了。毕竟，对于今天的标准来说，任何一个符合规范的 Web 页面都应该包含以下三个要素：内容（HTML）、外观(CSS)、和行为（JavaScript）。

通常来说，JavaScript 程序的运行必须要依赖于某个宿主环境。其中最常见的当然就是我们的 Web 浏览器了，但请注意，浏览器并不是 JavaScript 代码唯一的宿主环境。事实上，我们可以利用 JavaScript 来创建各种类型的插件工具、应用扩展以及其它形式的组件。种子，学习 JavaScript 语言是一件一举多得的事情，我们可以通过学习这种语言，来编写各种不同的应用程序。

这本书将着重于介绍 JavaScript 语言本身，特别是其中的面向对象特性。我们会从零开始讲解这些内容，也就是说，读这本书无语具备任何的程序设计基础。另外，除了有一章内容是专门为 Web 浏览器环境而写的以外，本书其余部分介绍的都是 JavaScript 的一半特性，适用于任何支持该语言的执行环境。

现在，让我们进入第一章的学习吧。首先，我们需要先来了解一下 JavaScript 背后的发展历史，而后我们才能逐步引入面向对象编程方面的基本概念。

<!-- more -->

## 回顾历史

起初，Web 站点事实上只不过是一个静态的 HTML 文档集，这些文档之间仅依靠一些简单的超链接（hyperlinks）绑定在一起。但很快，随着 Web 业务的快速普及和增长，网站管理者越来越希望自己所创建的的 Web 页面能处理更多的事情。例如，他们希望网站具有更丰富的用户交互能力，以便能完成一些简单的任务（比如验证表单之类），加强与服务器端的信息交互。那时候，他们有两种选择：Java applets（后来被证明是白了）和 LiveScript。其中 LiveScript 就是 1995 年由 Netscape 公司开发的程序设计语言。Netscape2.0 之后，他正式被更名为 JavaScript。

不久，这种对 We 吧页面中静态元素进行扩展的方式就在业界大放异彩，另其他的浏览器厂商也纷纷效仿，推出了自己的类似产品。例如，Microsoft 公司随后就发布了支持 JScript 的 Internet Exploreer（IE）3.0。该语言在 JavaScript 的基础上引入了一些 Id 独有的特性。最终，为了使语言的实现更趋向于标准化，一个叫做 ECMAScript（欧洲计算机制造商协会）的组织应运而生了。这才有了我们今天所看到的这份被叫做 ECMA-262 的标准文档。目前在业界广为流行的 JavaScript 也只是遵守该标准的一种实现而已。

无论结果是好是坏，JavaScript 在随后爆发的第一次浏览器大战（大约是在 1996 年到 2001 年间）中的带了迅速的普及。那是正值互联网发展的第一波繁荣期，主要由 Netscape 和 Microsoft 这两大浏览器厂商在争夺市场份额。在此过程中，他们不断地往各自的浏览器中添加新的特性和各种版本的 JavaScript 实现。但它们彼此之间又缺乏共同遵守的规则，这给 JavaScript 的开发带来大量的负面影响，也给开发人员带来巨大的痛苦。因为在这种情况下，我们通常只能针对某一个具体的浏览器来编写脚本。如果我们把在这个浏览器上开发的脚本拿到其他浏览器上测试，就会发现它们完全不能工作。与此同时，由于浏览器厂商都在忙于继续增加新的浏览器特性，以至于根本没能及时更新相应的工具，这导致了开发工具的严重滞后。

尽管浏览器厂商引入的不兼容性使 Web 开发人员感到难以忍受,但这还只是问题中的一个方面。而另一方面的问题则处在开发人员自己身上，他们在自己的 Web 页面中使用来太多的新特性,总是迫不及待的想引入浏览器提供的每一项新功能，以“加强”以及的页面。例如状态栏中的动画、闪烁的颜色、闪耀的文本、会摇晃的浏览器窗口、屏幕上的雪花效果、能跟踪对象的鼠标光标等，而这些往往是以牺牲实用性为代价的。这种滥用现象极大的损坏了 JavaScript 在业界的名声，以至于哪些“真正的程序员”（这里特指那些具有更成熟的编程语言背景的开发人员例如 Java 或 C/C++程序员）对 JavaScript 根本不屑一顾，或者仅仅把它当作一种用于前端设计的玩具。

出于上述原因，JavaScript 语言在一些 Web 项目中遭到了强烈抵制。某些项目甚至完全拒绝在客户端上进行任何的程序设计，转而只信任他们自己可以掌握的服务器端。确实，在当时的情况下，也没有什么理由值得我们花费双倍的时间来为这些不同的浏览器设计项目，然后再花更多的时间去调试它们。

## 变革之风

这种情况一直持续到第一次浏览器大战结束。但在随后的几年中，Web 开发领域在一系列的历史进程的推动下，终于发生了一些非常积极的变化。

- Microsoft 公司赢得了战争，但在之后的五年中（这或多或少算得上一个互联网时代了），他们停止了继续向 Internet Explorer 和 JScript 中添加新特性的动作，这给了其他浏览器充分的时间，使它们能够在功能上逐步完成对 IE 的追赶和超越。
- Web 标准在移动开发领域的重要性在开发人员和浏览器厂商那里得到一致的认可。这是很自然的，毕竟对于开发人员来说，谁也不想因为不同的浏览器而花费双倍（甚至更多）的开发时间，这促使各方都越来越倾向于遵守统一的开发标准。尽管目前，我们离建立一个完全统一的标准化环境还有很长的路要走，但目标已经很明确了，相信终会有实现的那一天的。
- 开发人员和技术本身也日趋成熟了，更多的人开始将注意力转移到东西本身的可用性上，并以此为基础，逐步加强在技术和功能方面的开发力度。

在这种健康的环境的影响下，开发人云开始谋求一种更好的新型开发模式，以取代这些现有的开发方式，而随着类似 Gmail 和 Goole Maps 这样的应用程序的相继出现，客户端的程序设计也开始逐渐变得丰富。显然如今的 JavaScript 已经成为一种成熟的、在某些方面独一无二的、具有强大原型体系的面向对象语言。关于这点，最好的例子莫过于是对 XMLHttpRequest 对象的重新发现和推广，该对象起初不过是一个 IE-only 特性，但如今已经得到绝大多数浏览器的支持。通过 XMLHttpRequest 对象，JavaScript 可以用 HTTP 请求的形式从服务器上获得所需的新鲜内容，实现了对页面的局部更新。这样一来，我们就不必每次都刷新整个页面了。随着 XMLHttpRequest 对象的广泛应用，一种类桌面式的 Web 应用程序模式诞生了，我们称之为 AJAX 的应用程序。
